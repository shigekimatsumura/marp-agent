# ãƒ‘ãƒ¯ãƒä½œã‚‹ãƒãƒ³ TODO

> **æ³¨æ„**: TODOç®¡ç†ã¯ **mainãƒ–ãƒ©ãƒ³ãƒã®ã¿** ã§è¡Œã„ã¾ã™ã€‚kagãƒ–ãƒ©ãƒ³ãƒã®TODOãƒ•ã‚¡ã‚¤ãƒ«ã¯å‚ç…§ç”¨ã®ãƒªãƒ³ã‚¯ã®ã¿ã§ã™ã€‚

## ã‚¿ã‚¹ã‚¯ç®¡ç†

åæ˜ å…ˆã®å‡¡ä¾‹: âœ… å®Œäº† / ğŸ”§ ä½œæ¥­ä¸­ / â¬œ æœªç€æ‰‹ / â– å¯¾è±¡å¤–
ãƒ©ãƒ™ãƒ«: ğŸ”´ é‡è¦
ä¸¦ã³é †: â‘ é‡è¦åº¦ãŒé«˜ã„é † â†’ â‘¡å®Ÿè£…ãŒç°¡å˜ãªé †ï¼ˆå·¥æ•°ãŒå°ã•ã„é †ï¼‰

| # | ã‚¿ã‚¹ã‚¯ | å·¥æ•° | çŠ¶æ…‹ | ãƒ©ãƒ™ãƒ« | main å®Ÿè£… | main docs | kag å®Ÿè£… | kag docs |
|---|--------|------|------|--------|-----------|-----------|----------|----------|
| #31 | AMPLIFY_DIFF_DEPLOYè¨­å®šã®è¦‹ç›´ã— | å° | âœ… å®Œäº† | ğŸ”´ é‡è¦ | âœ… | âœ… | âœ… | â– |
| #34 | kagç‰ˆã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ãŒå°ã•ã„ï¼ˆãƒã‚§ãƒªãƒ¼ãƒ”ãƒƒã‚¯æ¼ã‚Œï¼‰ | å° | â¬œ æœªç€æ‰‹ | ğŸ”´ é‡è¦ | â– | â– | â¬œ | â– |
| #10 | ãƒ†ãƒ¼ãƒé¸æŠ | ä¸­ | â¬œ æœªç€æ‰‹ | ğŸ”´ é‡è¦ | â¬œ | â¬œ | â– | â– |
| #26 | Kimiã«å¤‰ãˆã¦ã¿ã‚‹ | å°ã€œä¸­ | â¬œ æœªç€æ‰‹ | ğŸ”´ é‡è¦ | â¬œ | â¬œ | â– | â– |
| #21 | ä¼æ¥­ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ | ä¸­ã€œå¤§ | â¬œ æœªç€æ‰‹ | ğŸ”´ é‡è¦ | â¬œ | â¬œ | â– | â– |
| #33 | Tavilyã®Extractã«å¯¾å¿œ | å° | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #30 | ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«ã‚’AIãŒå†è¨­å®šã™ã‚‹ã‚ˆã†æ”¹å–„ | å° | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #32 | deploy-time-build: Repositoryã‚’è‡ªå‰ã§æ¸¡ã™æ–¹å¼ã«ä¿®æ­£ | å° | â¬œ æœªç€æ‰‹ | | â¬œ | â– | â– | â– |
| #29 | çµµæ–‡å­—ï¼ˆâŒâœ…ï¼‰ç›´å¾Œã®æ–‡å­—ãŒæ”¹è¡Œã•ã‚Œã‚‹å•é¡Œ | å° | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #28 | è¡¨ã®ã‚»ãƒ«å†…ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èª¿æ•´ | å° | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #27 | æ—¢å­˜ãƒ†ãƒ¼ãƒã«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãƒ»ä»•åˆ‡ã‚Šãªã©ï¼‰ | å°ã€œä¸­ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #19 | ãƒ„ã‚¤ãƒ¼ãƒˆãŠã™ã™ã‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œ | å° | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #14 | ç’°å¢ƒè­˜åˆ¥å­ãƒªãƒãƒ¼ãƒ ï¼ˆmainâ†’prod, devâ†’sandboxï¼‰ | å° | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #6 | Tavilyãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆæ¯æ¸‡é€šçŸ¥ | ä¸­ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #7 | ã‚¨ãƒ©ãƒ¼ç›£è¦–ãƒ»é€šçŸ¥ | ä¸­ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #22 | å‚è€ƒè³‡æ–™ãªã©ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ | ä¸­ã€œå¤§ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |
| #23 | ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | ä¸­ã€œå¤§ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #16 | ã‚¹ãƒ©ã‚¤ãƒ‰ç·¨é›†ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰ | å¤§ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â¬œ | â– |
| #9 | ã‚¹ãƒ©ã‚¤ãƒ‰å…±æœ‰æ©Ÿèƒ½ | å¤§ | â¬œ æœªç€æ‰‹ | | â¬œ | â¬œ | â– | â– |

---

## ã‚¿ã‚¹ã‚¯è©³ç´°

> **ä¸¦ã³é †**: ä¸Šè¨˜ã‚¿ã‚¹ã‚¯ç®¡ç†è¡¨ã¨åŒã˜é †ç•ªï¼ˆâ‘ é‡è¦åº¦ãŒé«˜ã„é † â†’ â‘¡å®Ÿè£…ãŒç°¡å˜ãªé †ï¼‰ã§è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚

### #10 ãƒ†ãƒ¼ãƒé¸æŠ ğŸ”´é‡è¦

**ç¾çŠ¶**:
- ãƒ†ãƒ¼ãƒã¯ `border` å›ºå®šï¼ˆãƒ•ãƒ­ãƒ³ãƒˆ: `src/themes/border.css`ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: `amplify/agent/runtime/border.css`ï¼‰
- `SlidePreview.tsx:4,28-30` ã§ `borderTheme` ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼† `marp.themeSet.add()`
- `agent.py:124-130` ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ `theme: border` ã‚’å›ºå®šæŒ‡ç¤º
- PDFç”Ÿæˆæ™‚ã‚‚ `border.css` ã‚’å›ºå®šæŒ‡å®šï¼ˆ`agent.py:256`ï¼‰

**åˆ©ç”¨å¯èƒ½ãªMarpãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ†ãƒ¼ãƒ**:
| ãƒ†ãƒ¼ãƒ | ç‰¹å¾´ |
|--------|------|
| **default** | Marpã®æ¨™æº–ãƒ†ãƒ¼ãƒã€ã‚·ãƒ³ãƒ—ãƒ« |
| **gaia** | ãƒ¢ãƒ€ãƒ³ã§ã‚«ãƒ©ãƒ•ãƒ« |
| **uncover** | ãƒŸãƒ‹ãƒãƒªã‚¹ãƒˆï¼†ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆ |
| **border** | ã‚«ã‚¹ã‚¿ãƒ ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ + å¤ªã„æ ç·šï¼‰ |

**å®Ÿè£…æ–¹æ³•**:

#### 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

**App.tsx** ã« stateè¿½åŠ :
```typescript
const [selectedTheme, setSelectedTheme] = useState<'default' | 'gaia' | 'uncover' | 'border'>('border');

// ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ç”Ÿæˆæ™‚ã«ãƒ†ãƒ¼ãƒã‚’åæ˜ 
const handleMarkdownGenerated = (newMarkdown: string) => {
  const updatedMarkdown = newMarkdown.replace(
    /^(---[\s\S]*?theme:\s*)\w+/m,
    `$1${selectedTheme}`
  );
  setMarkdown(updatedMarkdown);
};
```

**ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚»ãƒ¬ã‚¯ã‚¿è¿½åŠ **:
```tsx
<select
  value={selectedTheme}
  onChange={(e) => setSelectedTheme(e.target.value as any)}
  className="bg-white/20 text-white px-3 py-1 rounded text-sm border border-white/30"
>
  <option value="border" className="text-gray-900">Borderï¼ˆæ¨å¥¨ï¼‰</option>
  <option value="default" className="text-gray-900">Default</option>
  <option value="gaia" className="text-gray-900">Gaia</option>
  <option value="uncover" className="text-gray-900">Uncover</option>
</select>
```

**SlidePreview.tsx** ã§å…¨ãƒ†ãƒ¼ãƒç™»éŒ²:
```typescript
import borderTheme from '../themes/border.css?raw';
import defaultTheme from '../themes/default.css?raw';
import gaiaTheme from '../themes/gaia.css?raw';
import uncoverTheme from '../themes/uncover.css?raw';

const marp = new Marp();
marp.themeSet.add(borderTheme);
marp.themeSet.add(defaultTheme);
marp.themeSet.add(gaiaTheme);
marp.themeSet.add(uncoverTheme);
```

#### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

**agent.py ã® `generate_pdf()` ã‚’å‹•çš„é¸æŠã«ä¿®æ­£**:
```python
def generate_pdf(markdown: str) -> bytes:
    import re
    theme_match = re.search(r'theme:\s*(\w+)', markdown)
    selected_theme = theme_match.group(1) if theme_match else 'border'

    theme_files = {
        'border': Path(__file__).parent / 'border.css',
        'default': Path(__file__).parent / 'default.css',
        'gaia': Path(__file__).parent / 'gaia.css',
        'uncover': Path(__file__).parent / 'uncover.css',
    }
    theme_path = theme_files.get(selected_theme, theme_files['border'])
    # ... ä»¥ä¸‹æ—¢å­˜å‡¦ç†
```

#### 3. ãƒ†ãƒ¼ãƒCSSãƒ•ã‚¡ã‚¤ãƒ«é…ç½®

| é…ç½®å ´æ‰€ | ç”¨é€” |
|---------|------|
| `src/themes/` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆMarp Coreï¼‰ |
| `amplify/agent/runtime/` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆMarp CLI PDFç”Ÿæˆï¼‰ |

**ãƒ†ãƒ¼ãƒCSSå…¥æ‰‹æ–¹æ³•**: `@marp-team/marp-core` ã® node_modules ã‹ã‚‰æŠ½å‡ºã€ã¾ãŸã¯ [marp-community-themes](https://github.com/rnd195/marp-community-themes) ã‚’å‚ç…§

#### 4. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

```
[ãƒ˜ãƒƒãƒ€ãƒ¼: ãƒ†ãƒ¼ãƒã‚»ãƒ¬ã‚¯ã‚¿â–¼] â†’ selectedTheme state
         â†“ onChange
[ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ theme: ã‚’æ›¸ãæ›ãˆ]
         â†“
[SlidePreview] â†’ marp.themeSet ã«å…¨ãƒ†ãƒ¼ãƒç™»éŒ²æ¸ˆã¿ â†’ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼åæ˜ 
         â†“
[PDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰] â†’ generate_pdf() ãŒmarkdownã‹ã‚‰theme:æŠ½å‡º â†’ Marp CLIã« --theme æŒ‡å®š
```

---

### #30 ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«ã‚’AIãŒå†è¨­å®šã™ã‚‹ã‚ˆã†æ”¹å–„

**æ¦‚è¦**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ãŒãã®ã¾ã¾ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«ã«ãªã£ã¦ã—ã¾ã†å•é¡Œã€‚Webæ¤œç´¢å¾Œã«AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã‚¹ãƒ©ã‚¤ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«ã‚’é©åˆ‡ã«è¨­å®šã—ç›´ã™å¿…è¦ãŒã‚ã‚‹ã€‚

**ç¾çŠ¶**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ï¼ˆä¾‹ï¼šã€ŒAWSã«ã¤ã„ã¦æ•™ãˆã¦ã€ï¼‰ãŒãã®ã¾ã¾ã‚¹ãƒ©ã‚¤ãƒ‰ã® `# ã‚¿ã‚¤ãƒˆãƒ«` ã«ãªã£ã¦ã—ã¾ã†
- Webæ¤œç´¢çµæœã‚’è¸ã¾ãˆãŸé©åˆ‡ãªã‚¿ã‚¤ãƒˆãƒ«è¨­å®šãŒã•ã‚Œã¦ã„ãªã„

**åŸå› **:
- ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã‚¿ã‚¤ãƒˆãƒ«è¨­å®šã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ãŒä¸è¶³

**ä¿®æ­£æ–¹æ³•**:

**agent.py ã® SYSTEM_PROMPT ã«è¿½åŠ **:
```markdown
## ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«ã®è¨­å®šãƒ«ãƒ¼ãƒ«
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•æ–‡ã‚’ãã®ã¾ã¾ã‚¿ã‚¤ãƒˆãƒ«ã«ã—ãªã„ã“ã¨
- Webæ¤œç´¢çµæœã‚’è¸ã¾ãˆã¦ã€å†…å®¹ã‚’ç«¯çš„ã«è¡¨ã™**åè©å¥**ã§ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¨­å®š
- ä¾‹:
  - âŒã€ŒAWSã«ã¤ã„ã¦æ•™ãˆã¦ã€â†’ âœ…ã€ŒAWSå…¥é–€ã‚¬ã‚¤ãƒ‰ã€
  - âŒã€Œç”ŸæˆAIã®æœ€æ–°å‹•å‘ã‚’èª¿ã¹ã¦ã€â†’ âœ…ã€Œç”ŸæˆAIæœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ 2025ã€
```

**å·¥æ•°**: å°ï¼ˆã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¿®æ­£ã®ã¿ã€30åˆ†ç¨‹åº¦ï¼‰

---

### #29 çµµæ–‡å­—ï¼ˆâŒâœ…ï¼‰ç›´å¾Œã®æ–‡å­—ãŒæ”¹è¡Œã•ã‚Œã‚‹å•é¡Œ

**æ¦‚è¦**: Marpå†…ã§âŒã‚„âœ…ã®çµµæ–‡å­—ã‚’ä½¿ã†ã¨ã€ãã®ç›´å¾Œã®æ–‡å­—ãŒæ”¹è¡Œã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã¦ã—ã¾ã†å•é¡Œã€‚

**åŸå› ã®å¯èƒ½æ€§**:
- çµµæ–‡å­—ã®å¹…è¨ˆç®—ã¨ãƒ•ã‚©ãƒ³ãƒˆãƒ»è¡Œé«˜ã®ç›¸æ€§å•é¡Œ
- Marpã®CSSï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¾ãŸã¯borderãƒ†ãƒ¼ãƒï¼‰ã«ãŠã‘ã‚‹è¡Œãƒœãƒƒã‚¯ã‚¹å‡¦ç†

**èª¿æŸ»é …ç›®**:
1. ç‰¹å®šã®ãƒ•ã‚©ãƒ³ãƒˆè¨­å®šã§ç™ºç”Ÿã™ã‚‹ã‹ç¢ºèª
2. `border.css` ã® line-height è¨­å®šã‚’ç¢ºèª
3. çµµæ–‡å­—ã®å‰å¾Œã«ã‚¼ãƒ­å¹…ã‚¹ãƒšãƒ¼ã‚¹ã‚„æ”¹è¡ŒãŒå…¥ã£ã¦ã„ãªã„ã‹ç¢ºèª

**è€ƒãˆã‚‰ã‚Œã‚‹å¯¾ç­–**:
- ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§âŒâœ…ã®ä»£ã‚ã‚Šã«ã€ŒÃ—ã€ã€Œâ—‹ã€ã‚„ã€ŒNGã€ã€ŒOKã€ã‚’ä½¿ã†ã‚ˆã†æŒ‡ç¤º
- CSSã§çµµæ–‡å­—ã‚’å«ã‚€è¦ç´ ã® `white-space: nowrap` ã‚’è¨­å®š
- ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ãƒŸãƒªãƒ¼ã«çµµæ–‡å­—å¯¾å¿œãƒ•ã‚©ãƒ³ãƒˆã‚’è¿½åŠ 

**å·¥æ•°**: å°ï¼ˆèª¿æŸ»ï¼‹ä¿®æ­£ã§1-2æ™‚é–“ï¼‰

---

### #28 è¡¨ã®ã‚»ãƒ«å†…ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èª¿æ•´

**æ¦‚è¦**: è¡¨ã®ä¸­ã®æ–‡å­—ã¨è¡¨ã®æ ã®é–“ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãŒå°‘ãªã„ãŸã‚ã€è¦‹ãŸç›®ã®ãƒãƒ©ãƒ³ã‚¹ãŒæ‚ªã„å•é¡Œã‚’ä¿®æ­£ã™ã‚‹ã€‚

**ç¾çŠ¶**:
- `border.css` ã«ã¯ãƒ†ãƒ¼ãƒ–ãƒ«å›ºæœ‰ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒ**æœªå®šç¾©**ï¼ˆ`@import "default"` ã§ç¶™æ‰¿ã—ã¦ã„ã‚‹ã®ã¿ï¼‰
- Marpã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒã§ã¯ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãŒå°ã•ã‚ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|---------|
| `src/themes/border.css` | ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ  |
| `amplify/agent/runtime/border.css` | åŒã˜å†…å®¹ã‚’è¿½åŠ  |

**å®Ÿè£…ã‚³ãƒ¼ãƒ‰ï¼ˆborder.css ã®æœ«å°¾ã«è¿½åŠ ï¼‰**:
```css
/* || TABLE: ã‚»ãƒ«å†…ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èª¿æ•´ */
section table {
  border-collapse: collapse;
  margin: 1em 0;
}

section table th,
section table td {
  padding: 0.6em 1.2em;  /* ä¸Šä¸‹0.6emã€å·¦å³1.2em */
  border: 1px solid var(--border-color);
}

section table th {
  background-color: var(--bg-color-alt);
  font-weight: 700;
}

/* å¶æ•°è¡Œã®èƒŒæ™¯è‰²ï¼ˆè¦–èªæ€§å‘ä¸Šï¼‰ */
section table tr:nth-child(even) td {
  background-color: rgba(0, 0, 0, 0.03);
}
```

**ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°å€¤ã®æ ¹æ‹ **:
| å€¤ | é¸å®šç†ç”± |
|-----|---------|
| ä¸Šä¸‹ `0.6em` | è¡Œé–“ã«ä½™è£•ã‚’æŒãŸã›ã¤ã¤ã€ã‚¹ãƒ©ã‚¤ãƒ‰å†…ã§ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«åã¾ã‚‹ |
| å·¦å³ `1.2em` | åˆ—é–“ã®åŒºåˆ‡ã‚Šã‚’æ˜ç¢ºã«ã—ã€æ–‡å­—ãŒæ ã«æ¥è§¦ã—ãªã„ |

**æ³¨æ„ç‚¹**:
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆ`src/themes/`ï¼‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆ`amplify/agent/runtime/`ï¼‰ã®**ä¸¡æ–¹ã‚’åŒã˜å†…å®¹ã«æ›´æ–°**ã™ã‚‹ã“ã¨
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨PDFå‡ºåŠ›ã§åŒã˜è¦‹ãŸç›®ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª

**å·¥æ•°**: å°ï¼ˆ30åˆ†ã€œ1æ™‚é–“ï¼‰

---

### #27 æ—¢å­˜ãƒ†ãƒ¼ãƒã«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãƒ»ä»•åˆ‡ã‚Šãªã©ï¼‰

**æ¦‚è¦**: ç¾åœ¨ã®`border`ãƒ†ãƒ¼ãƒã«ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã—ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ»ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šãƒ»å¼•ç”¨ãªã©ã€ãƒ‡ã‚¶ã‚¤ãƒ³ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

**ç¾åœ¨ã®ãƒ†ãƒ¼ãƒæ§‹æˆ**:
- `src/themes/border.css` / `amplify/agent/runtime/border.css`ï¼ˆåŒä¸€å†…å®¹ï¼‰
- æ—¢å­˜ã‚¯ãƒ©ã‚¹: `tinytext`ï¼ˆå‚è€ƒæ–‡çŒ®ç”¨ã®å°ã•ã„æ–‡å­—ï¼‰ã®ã¿

**Marpã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¯ãƒ©ã‚¹æ©Ÿèƒ½**:
```markdown
<!-- _class: title -->
# ã‚¿ã‚¤ãƒˆãƒ«

<!-- _class: crosshead -->
## ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Š
```
`_` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ = **ãã®ã‚¹ãƒ©ã‚¤ãƒ‰ã®ã¿**ã«é©ç”¨

**è¿½åŠ ã™ã‚‹ã‚¯ãƒ©ã‚¹å®šç¾©ï¼ˆborder.css ã«è¿½åŠ ï¼‰**:

```css
/* ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ãƒ©ã‚¤ãƒ‰ - ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ + ä¸­å¤®é…ç½® */
section.title {
  background: linear-gradient(135deg, #0e0d6a 0%, #1a3a6e 100%);
  color: white;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

section.title h1 {
  font-size: 3.5em;
  margin: 0.5em 0;
  font-weight: 700;
}

section.title h3 {
  font-size: 1.3em;
  color: rgba(255, 255, 255, 0.8);
  margin: 0;
  font-weight: 400;
}

/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Š - ã‚°ãƒ¬ãƒ¼èƒŒæ™¯ + å·¦ãƒœãƒ¼ãƒ€ãƒ¼ */
section.crosshead {
  background: linear-gradient(to bottom right, #f0f0f0 0%, #e0e0e0 100%);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  border-left: 1em solid var(--border-color);
}

section.crosshead h2 {
  font-size: 2.5em;
  color: var(--border-color);
  margin: 0;
}

/* å¼•ç”¨ã‚¹ãƒ©ã‚¤ãƒ‰ - å·¦ãƒœãƒ¼ãƒ€ãƒ¼ + ã‚¤ã‚¿ãƒªãƒƒã‚¯ */
section.quote {
  background: linear-gradient(to bottom right, #fffaf0 0%, #fff5e6 100%);
  border-left: 5px solid #5ba4d9;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 2em;
}

section.quote blockquote {
  font-size: 1.8em;
  font-style: italic;
  color: var(--border-color);
  margin: 0;
  border: none;
  padding: 0;
}

/* ç”»åƒä¸­å¿ƒã‚¹ãƒ©ã‚¤ãƒ‰ */
section.image {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 1.5em;
}

section.image img {
  max-width: 90%;
  max-height: 60%;
  object-fit: contain;
}

/* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ */
section.invert {
  background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
  color: #ffffff;
  border-color: #ffffff;
}

/* ãƒã‚¤ãƒ©ã‚¤ãƒˆèƒŒæ™¯ */
section.highlight {
  background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
  border-left: 1em solid #ff9800;
}
```

**ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ›´æ–°ï¼ˆagent.pyï¼‰**:

```markdown
## ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¯ãƒ©ã‚¹ï¼ˆãƒ‡ã‚¶ã‚¤ãƒ³ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã€æ¨å¥¨ã€‘

### ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ãƒ©ã‚¤ãƒ‰ã€å¿…é ˆã€‘
1æšç›®ã¯å¿…ãš `title` ã‚¯ãƒ©ã‚¹:
<!-- _class: title -->
# ã‚¿ã‚¤ãƒˆãƒ«
### ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«

### ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šã€æ¨å¥¨ã€‘
3ã€œ4ã‚¹ãƒ©ã‚¤ãƒ‰ã”ã¨ã« `crosshead`:
<!-- _class: crosshead -->
## ã‚»ã‚¯ã‚·ãƒ§ãƒ³2. ãƒ†ãƒ¼ãƒåˆ¥å±•é–‹

### å¼•ç”¨ã€æ¨å¥¨ã€‘
é‡è¦ãªå®šç¾©ã¯ `quote`:
<!-- _class: quote -->
> ã€Œé‡è¦ãªãƒã‚¤ãƒ³ãƒˆã€
â€” å‡ºå…¸

### ç”»åƒä¸­å¿ƒã€æ¨å¥¨ã€‘
å†™çœŸã‚’å¤§ããè¡¨ç¤º: `image`

### ãƒ€ãƒ¼ã‚¯/ãƒã‚¤ãƒ©ã‚¤ãƒˆã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‘
`invert` / `highlight`
```

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|---------|
| `src/themes/border.css` | ã‚¯ãƒ©ã‚¹å®šç¾©ã‚’è¿½åŠ  |
| `amplify/agent/runtime/border.css` | åŒã˜å†…å®¹ã‚’è¿½åŠ  |
| `amplify/agent/runtime/agent.py` | SYSTEM_PROMPT ã«ã‚¯ãƒ©ã‚¹ä½¿ç”¨ã‚¬ã‚¤ãƒ‰è¿½åŠ  |

**æ³¨æ„**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¿®æ­£ä¸è¦ï¼ˆCSSã¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ã¿ï¼‰

**å·¥æ•°**: å°ã€œä¸­ï¼ˆ1-2æ—¥ï¼‰

---

### #19 ãƒ„ã‚¤ãƒ¼ãƒˆãŠã™ã™ã‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œ

**ç¾çŠ¶**: ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚ã€`Chat.tsx`ã§ã€Œç„¡è¨€ã§ãƒ„ãƒ¼ãƒ«ä½¿ç”¨é–‹å§‹ã™ã‚‹ã“ã¨ã€ã¨ã„ã†æŒ‡ç¤ºã‚’é€ä¿¡ã—ã¦ã„ã‚‹ãŸã‚ã€LLMãŒãƒ†ã‚­ã‚¹ãƒˆã‚’å‡ºåŠ›ã›ãšãƒ„ãƒ¼ãƒ«ã‚’å³å®Ÿè¡Œã€‚çµæœã€ãƒ„ã‚¤ãƒ¼ãƒˆæ¨å¥¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤ºã•ã‚Œãªã„ã€‚

**æ¨å¥¨ä¿®æ­£ï¼ˆ2ç®‡æ‰€ã€å·¥æ•°ï¼šå°ï¼‰**:

1. **Chat.tsxã®ã€Œç„¡è¨€ã€æŒ‡ç¤ºã‚’å‰Šé™¤**
   ```typescript
   // å¤‰æ›´å‰
   await invoke('ä»Šå›ã®ä½“é¨“ã‚’Xã§ã‚·ã‚§ã‚¢ã™ã‚‹URLã‚’ææ¡ˆã—ã¦ãã ã•ã„ï¼ˆç„¡è¨€ã§ãƒ„ãƒ¼ãƒ«ä½¿ç”¨é–‹å§‹ã™ã‚‹ã“ã¨ï¼‰', ...)
   // å¤‰æ›´å¾Œ
   await invoke('ä»Šå›ã®ä½“é¨“ã‚’Xã§ã‚·ã‚§ã‚¢ã™ã‚‹URLã‚’ææ¡ˆã—ã¦ãã ã•ã„', ...)
   ```

2. **ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã‚·ã‚§ã‚¢æ™‚ã®æŒ¯ã‚‹èˆã„ã‚’æ˜è¨˜**ï¼ˆ`agent.py` SYSTEM_PROMPTï¼‰
   ```markdown
   ## Xã§ã‚·ã‚§ã‚¢æ©Ÿèƒ½
   ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã‚·ã‚§ã‚¢ã—ãŸã„ã€ãªã©ã¨è¨€ã£ãŸå ´åˆï¼š
   1. ã¾ãšä½“é¨“ã‚’ã‚·ã‚§ã‚¢ã™ã‚‹ã“ã¨ã‚’å‹§ã‚ã‚‹çŸ­ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›
   2. ãã®å¾Œ generate_tweet_url ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦URLã‚’ç”Ÿæˆ
   ```

---

### #14 ç’°å¢ƒè­˜åˆ¥å­ãƒªãƒãƒ¼ãƒ 

**å¤‰æ›´å†…å®¹**: mainâ†’prodã€devâ†’sandbox

**å¤‰æ›´ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«**:

| ãƒ•ã‚¡ã‚¤ãƒ« | è¡Œ | å¤‰æ›´å†…å®¹ |
|---------|-----|---------|
| `amplify/backend.ts` | 10 | `'dev'` â†’ `'sandbox'` |
| `amplify/agent/resource.ts` | 58 | ã‚³ãƒ¡ãƒ³ãƒˆæ›´æ–°ï¼ˆ`marp_agent_dev` â†’ `marp_agent_sandbox` ç­‰ï¼‰ |
| `docs/KNOWLEDGE.md` | 923 | ãƒ©ãƒ³ã‚¿ã‚¤ãƒ åã®ä¾‹ã‚’æ›´æ–° |

**æ³¨æ„**:
- `backend.ts:10` ã® `branchName` ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’å¤‰ãˆã‚‹ã ã‘ã§ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ åã¯è‡ªå‹•è¿½å¾“
- AgentCore Runtimeã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ åãŒå¤‰ã‚ã‚‹ãŸã‚å†ä½œæˆãŒå¿…è¦
- Gitãƒ–ãƒ©ãƒ³ãƒåï¼ˆmain/kagï¼‰ã¯å¤‰æ›´ä¸è¦

---

### #31 AMPLIFY_DIFF_DEPLOYè¨­å®šã®è¦‹ç›´ã— ğŸ”´é‡è¦

**æ¦‚è¦**: `AMPLIFY_DIFF_DEPLOY=true`ã‚’è¨­å®šã—ã¦ã„ã‚‹ãŒã€docsæ›´æ–°ã ã‘ã®ãƒ—ãƒƒã‚·ãƒ¥ã§ã‚‚ãƒ‡ãƒ—ãƒ­ã‚¤ãŒèµ°ã£ã¦ã—ã¾ã†å•é¡Œã€‚

**åŸå› **:
- `AMPLIFY_DIFF_DEPLOY_ROOT`ãŒæœªè¨­å®šã®ãŸã‚ã€repoç›´ä¸‹ï¼ˆdocsã‚‚å«ã‚€ï¼‰ãŒå·®åˆ†æ¯”è¼ƒå¯¾è±¡ã«ãªã£ã¦ã„ã‚‹
- Gen2ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ‡ãƒ—ãƒ­ã‚¤ã§ã¯`AMPLIFY_DIFF_BACKEND`ç›¸å½“ãŒGen1é™å®šã®ãŸã‚ã€backendãƒ‡ãƒ—ãƒ­ã‚¤å·¥ç¨‹ãŒå¸¸ã«èµ°ã‚‹

**ä¿®æ­£æ–¹æ³•**:

1. **Amplify Consoleç’°å¢ƒå¤‰æ•°ã«è¿½åŠ **:
   - `AMPLIFY_DIFF_DEPLOY_ROOT=.`ï¼ˆã¾ãŸã¯ã‚¢ãƒ—ãƒªã®ãƒ«ãƒ¼ãƒˆãƒ‘ã‚¹ï¼‰
   - `AMPLIFY_MONOREPO_APP_ROOT`ï¼ˆãƒ¢ãƒãƒ¬ãƒã®å ´åˆï¼‰

2. **ç¢ºå®Ÿãªå›é¿ç­–**: docsã®ã¿ã®ã‚³ãƒŸãƒƒãƒˆã¯æœ«å°¾ã«`[skip-cd]`ã‚’ä»˜ã‘ã‚‹

**ç¢ºèªæ–¹æ³•**: Amplifyãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã§å·®åˆ†åˆ¤å®šçµæœã‚’ç¢ºèª

**å·¥æ•°**: å°ï¼ˆç’°å¢ƒå¤‰æ•°è¨­å®šã®ã¿ï¼‰

---

### #34 kagç‰ˆã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ãŒå°ã•ã„ï¼ˆãƒã‚§ãƒªãƒ¼ãƒ”ãƒƒã‚¯æ¼ã‚Œï¼‰ ğŸ”´é‡è¦

**æ¦‚è¦**: kagç‰ˆã§ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ã®ã‚µã‚¤ã‚ºãŒmainç‰ˆã¨ç•°ãªã‚‹ï¼ˆå°ã•ã„ï¼‰å•é¡Œã€‚ãƒã‚§ãƒªãƒ¼ãƒ”ãƒƒã‚¯æ¼ã‚Œã®å¯èƒ½æ€§ã€‚

**èª¿æŸ»é …ç›®**:
- mainã¨kagã®ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼é–¢é€£ã‚³ãƒ¼ãƒ‰ã®å·®åˆ†ã‚’ç¢ºèª
- æ¼ã‚Œã¦ã„ã‚‹ã‚³ãƒŸãƒƒãƒˆã‚’ç‰¹å®šã—ã¦ãƒã‚§ãƒªãƒ¼ãƒ”ãƒƒã‚¯

**å·¥æ•°**: å°ï¼ˆèª¿æŸ»ï¼‹ãƒã‚§ãƒªãƒ¼ãƒ”ãƒƒã‚¯ï¼‰

---

### #33 Tavilyã®Extractã«å¯¾å¿œ

**æ¦‚è¦**: Tavily APIã®Extractæ©Ÿèƒ½ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚

**Tavily Extractæ©Ÿèƒ½**:
- URLã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŠ½å‡ºã™ã‚‹API
- Webæ¤œç´¢ã¨ã¯åˆ¥ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

**å®Ÿè£…æ–¹æ³•**:
- `agent.py`ã«`tavily_extract`ãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ 
- ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ä½¿ã„æ–¹ã‚’èª¬æ˜

**å·¥æ•°**: å°ï¼ˆæ–°è¦ãƒ„ãƒ¼ãƒ«è¿½åŠ ï¼‰

---

### #26 Kimiã«å¤‰ãˆã¦ã¿ã‚‹ ğŸ”´é‡è¦

**æ¦‚è¦**: Moonshot AIã®Kimiï¼ˆä¸­å›½è£½LLMï¼‰ã‚’è©¦ã—ã¦ã¿ã‚‹ã€‚

**åŸºæœ¬æƒ…å ±**:
- å…¬å¼: https://platform.moonshot.ai/
- æœ€æ–°ãƒ¢ãƒ‡ãƒ«: Kimi K2.5ï¼ˆ2026å¹´1æœˆ27æ—¥ãƒªãƒªãƒ¼ã‚¹ï¼‰
- **OpenAIäº’æ›API**: `base_url` ã‚’å¤‰ãˆã‚‹ã ã‘ã§ç§»è¡Œå¯èƒ½

**APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
```
https://api.moonshot.ai/v1/chat/completions
```

**æ–™é‡‘æ¯”è¼ƒï¼ˆClaude Sonnetã®ç´„1/10ï¼‰**:
| ãƒ¢ãƒ‡ãƒ« | å…¥åŠ› | å‡ºåŠ› |
|--------|------|------|
| Kimi K2 | $0.60/M | $2.50/M |
| Claude Sonnet 4 | - | $10-15/M |

**Pythonå®Ÿè£…ä¾‹**:
```python
from openai import OpenAI

client = OpenAI(
    api_key=os.environ.get("MOONSHOT_API_KEY"),
    base_url="https://api.moonshot.ai/v1",
)

response = client.chat.completions.create(
    model="kimi-k2.5-preview",
    messages=[{"role": "user", "content": "ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œæˆã—ã¦"}],
    stream=True,
)
```

**Strands Agentsçµ±åˆ**:
```python
from strands import Agent
from litellm import LiteLLMModel

agent = Agent(
    model=LiteLLMModel("moonshot/kimi-k2-thinking"),
    system_prompt="ã‚ãªãŸã¯ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™",
)
```

**âš ï¸ åˆ¶é™äº‹é …ãƒ»æ‡¸å¿µç‚¹**:
| é …ç›® | çŠ¶æ³ |
|------|------|
| **æ—¥æœ¬èªã‚µãƒãƒ¼ãƒˆ** | ğŸ”´ ä¸æ˜ï¼ˆå…¬å¼ã«æ˜ç¤ºãªã—ã€è¦æ¤œè¨¼ï¼‰ |
| **é€Ÿåº¦** | ğŸŸ¡ Claude Sonnetã®ç´„1/3ï¼ˆ34 vs 91 tokens/secï¼‰ |
| **Strandsçµ±åˆ** | ğŸ”´ ãƒãƒ«ãƒã‚¿ãƒ¼ãƒ³ä¼šè©±ã§ãƒã‚°ã‚ã‚Šï¼ˆ[Issue #1150](https://github.com/strands-agents/sdk-python/issues/1150)ï¼‰ |
| **åœ°åŸŸåˆ¶é™** | ğŸŸ¢ æ—¥æœ¬ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ |
| **ãƒ¬ãƒ¼ãƒˆåˆ¶é™** | ğŸŸ¡ ç„¡æ–™ãƒ—ãƒ©ãƒ³: 3ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ† |

**çµè«–**: ã‚³ã‚¹ãƒˆã¯é­…åŠ›çš„ã ãŒã€**æ—¥æœ¬èªã‚µãƒãƒ¼ãƒˆä¸æ˜**ã¨**Strandsçµ±åˆãƒã‚°**ãŒã‚ã‚‹ãŸã‚ã€æœ¬ç•ªåˆ©ç”¨ã¯æ…é‡ã«ã€‚ã¾ãšã¯å°è¦æ¨¡ãƒ†ã‚¹ãƒˆã§æ—¥æœ¬èªå“è³ªã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚

**å·¥æ•°**: å°ã€œä¸­ï¼ˆ2-3æ—¥ã€ãƒ†ã‚¹ãƒˆå«ã‚€ï¼‰

---

### #6 Tavilyãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆæ¯æ¸‡é€šçŸ¥

**ç¾çŠ¶**: `agent.py:47-51` ã§ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆæ¤œå‡ºæ¸ˆã¿ï¼ˆè¤‡æ•°ã‚­ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œï¼‰ã€‚å…¨ã‚­ãƒ¼æ¯æ¸‡æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ã‚ã‚Šï¼ˆ`agent.py:54`ï¼‰ã€‚ç®¡ç†è€…ã¸ã®é€šçŸ¥ãŒãªã„ã€‚

**å®Ÿè£…æ–¹æ³•ï¼ˆSNSé€šçŸ¥æ–¹å¼ï¼‰**:

1. **CDKã§SNSãƒˆãƒ”ãƒƒã‚¯ä½œæˆ**ï¼ˆ`amplify/backend.ts` ã¾ãŸã¯ `amplify/agent/resource.ts`ï¼‰
   ```typescript
   const alarmTopic = new sns.Topic(stack, 'TavilyAlertTopic', {
     topicName: `marp-agent-tavily-alerts-${nameSuffix}`,
   });
   ```

2. **IAMæ¨©é™è¿½åŠ **ï¼ˆ`amplify/agent/resource.ts:84-93` ã«è¿½åŠ ï¼‰
   ```typescript
   runtime.addToRolePolicy(new iam.PolicyStatement({
     actions: ['sns:Publish'],
     resources: [alarmTopic.topicArn],
   }));
   ```

3. **agent.pyã§å…¨ã‚­ãƒ¼æ¯æ¸‡æ™‚ã«SNSé€šçŸ¥**ï¼ˆ`agent.py:54` ä»˜è¿‘ï¼‰
   ```python
   sns_client = boto3.client('sns')
   sns_client.publish(
     TopicArn=os.environ['ALERT_TOPIC_ARN'],
     Subject='Tavily API Rate Limit Exhausted',
     Message='All Tavily API keys have been exhausted.',
   )
   ```

4. **SNSã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³è¨­å®š**ï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç™»éŒ²ï¼‰

---

### #7 ã‚¨ãƒ©ãƒ¼ç›£è¦–ãƒ»é€šçŸ¥

**ç¾çŠ¶**: OTEL Observabilityæœ‰åŠ¹ï¼ˆ`resource.ts:71-74`ï¼‰ã€‚CloudWatch Alarm/SNSæœªè¨­å®šã€‚

**å®Ÿè£…æ–¹æ³•**:

1. **SNSãƒˆãƒ”ãƒƒã‚¯ä½œæˆ**ï¼ˆ#6ã¨å…±ç”¨å¯èƒ½ï¼‰
   ```typescript
   const alarmTopic = new sns.Topic(stack, 'MarpAgentAlarmTopic', {
     topicName: `marp-agent-alarms-${nameSuffix}`,
   });
   ```

2. **CloudWatch Alarmè¿½åŠ **ï¼ˆ`amplify/agent/resource.ts`ï¼‰
   - AgentCore Runtimeã¯è‡ªå‹•ã§CloudWatchãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’å‡ºåŠ›
   - System Errors / User Errors / Throttling ã‚’ç›£è¦–

3. **ãƒ¡ãƒ¼ãƒ«é€šçŸ¥è¨­å®š**ï¼ˆSNSã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

**å½±éŸ¿ç¯„å›²**: æ—¢å­˜ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãªã—ã€‚CDKãƒªã‚½ãƒ¼ã‚¹è¿½åŠ ã®ã¿ã€‚

---

### #21 ä¼æ¥­ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„ ğŸ”´é‡è¦

**æ¦‚è¦**: ä¼æ¥­ç‹¬è‡ªã®Marpãƒ†ãƒ¼ãƒï¼ˆCSSï¼‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

**ç¾åœ¨ã®ãƒ†ãƒ¼ãƒç®¡ç†**:
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: `src/themes/border.css` ã‚’ `?raw` ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆ â†’ `marp.themeSet.add()`
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: `amplify/agent/runtime/border.css` ã‚’ Marp CLI `--theme` ã§æŒ‡å®š

**æ¨å¥¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:
```
ä¼æ¥­ â†’ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰UI â†’ S3ãƒã‚±ãƒƒãƒˆä¿å­˜ â†’ DynamoDBãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç™»éŒ²
                                    â†“
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: S3 URLã‹ã‚‰CSSå–å¾— â†’ Marp Coreç™»éŒ²
ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: S3 URLã‹ã‚‰CSSå–å¾— â†’ Marp CLI --themeæŒ‡å®š
```

**å¿…è¦ãªã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆCDKï¼‰**:

```typescript
// S3ãƒã‚±ãƒƒãƒˆï¼ˆãƒ†ãƒ¼ãƒCSSä¿å­˜ï¼‰
const themeBucket = new s3.Bucket(stack, 'ThemeBucket', {
  blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL,
  encryption: s3.BucketEncryption.S3_MANAGED,
});

// DynamoDBãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆãƒ†ãƒ¼ãƒãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰
const themeTable = new dynamodb.Table(stack, 'ThemeTable', {
  partitionKey: { name: 'organizationId', type: dynamodb.AttributeType.STRING },
  sortKey: { name: 'themeName', type: dynamodb.AttributeType.STRING },
  billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,
});
```

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…**:

```typescript
// src/hooks/useThemeStorage.ts
export async function uploadTheme(input: { file: File; themeName: string }) {
  // ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯ï¼ˆ100KBåˆ¶é™ï¼‰
  if (input.file.size > 100 * 1024) throw new Error('ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºè¶…é');

  // CSSãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  const content = await input.file.text();
  if (!content.includes('@theme') && !content.includes('section')) {
    throw new Error('ç„¡åŠ¹ãªMarpãƒ†ãƒ¼ãƒ');
  }

  // Amplify Storage or LambdaçµŒç”±ã§S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
}

// SlidePreview.tsx ã§S3ãƒ†ãƒ¼ãƒã‚’å‹•çš„ç™»éŒ²
useEffect(() => {
  if (selectedThemeUrl?.startsWith('http')) {
    fetch(selectedThemeUrl).then(res => res.text()).then(css => {
      marp.themeSet.add(css);
    });
  }
}, [selectedThemeUrl]);
```

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…**ï¼ˆagent.pyï¼‰:

```python
def generate_pdf(markdown: str, theme_url: str | None = None) -> bytes:
    if theme_url:
        # S3ã‹ã‚‰ãƒ†ãƒ¼ãƒã‚’å–å¾—
        response = requests.get(theme_url, timeout=5)
        theme_path = Path(tmpdir) / "theme.css"
        theme_path.write_bytes(response.content)
        cmd.extend(["--theme", str(theme_path)])
```

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®**:
- CSSãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ`javascript:`, `expression(` ç­‰ã‚’é™¤å¤–ï¼‰
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™: 100KB
- S3ãƒ–ãƒ­ãƒƒã‚¯ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹

**å·¥æ•°**: ä¸­ã€œå¤§ï¼ˆ5-7æ—¥ï¼‰

---

### #22 å‚è€ƒè³‡æ–™ãªã©ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã„

**æ¦‚è¦**: PDF/Word/ãƒ†ã‚­ã‚¹ãƒˆ/ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã€ãã®å†…å®¹ã«åŸºã¥ã„ã¦ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

**æ¨å¥¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ â†’ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰UI â†’ Amplify Storage (S3)
                                    â†“
AgentCore Runtime (agent.py) â†’ ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ãƒ„ãƒ¼ãƒ«
  â”œâ”€ PDF â†’ pdfplumber ã§ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º
  â”œâ”€ Word â†’ python-docx ã§ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º
  â”œâ”€ ãƒ†ã‚­ã‚¹ãƒˆ â†’ ãã®ã¾ã¾ä½¿ç”¨
  â””â”€ ç”»åƒ â†’ Bedrock Multimodal LLM ã§èªè­˜
                                    â†“
LLMãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«åŸ‹ã‚è¾¼ã¿ â†’ ã‚¹ãƒ©ã‚¤ãƒ‰ç”Ÿæˆ
```

**å¯¾å¿œãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼**:
| å½¢å¼ | å‡¦ç†æ–¹æ³• | ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | é›£åº¦ |
|------|---------|---------|------|
| PDF | ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º | `pdfplumber` | ä½ |
| Word (.docx) | ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º | `python-docx` | ä½ |
| ãƒ†ã‚­ã‚¹ãƒˆ | ãã®ã¾ã¾ | - | ä½ |
| ç”»åƒ | OCR | Bedrock Multimodal | ä¸­ |

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…**ï¼ˆagent.py ã«è¿½åŠ ï¼‰:

```python
import pdfplumber
from docx import Document

_reference_material: str = ""

@tool
def add_reference_material(file_path: str, file_type: str) -> str:
    """å‚è€ƒè³‡æ–™ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»å‡¦ç†ã—ã¾ã™"""
    global _reference_material

    if file_type == "pdf":
        with pdfplumber.open(file_path) as pdf:
            text = "\n".join([page.extract_text() for page in pdf.pages])
    elif file_type == "docx":
        doc = Document(file_path)
        text = "\n".join([p.text for p in doc.paragraphs])
    elif file_type == "txt":
        text = Path(file_path).read_text(encoding="utf-8")

    _reference_material = text[:5000]  # Tokenç¯€ç´„
    return f"å‚è€ƒè³‡æ–™ã‚’å‡¦ç†ã—ã¾ã—ãŸï¼ˆ{len(text)}æ–‡å­—ï¼‰"
```

**requirements.txt ã«è¿½åŠ **:
```
pdfplumber
python-docx
```

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…**ï¼ˆChat.tsx ã«è¿½åŠ ï¼‰:

```typescript
<input
  type="file"
  accept=".pdf,.docx,.txt,image/*"
  onChange={(e) => handleFileUpload(e.target.files?.[0])}
/>
```

**ã‚¤ãƒ³ãƒ•ãƒ©å¤‰æ›´**ï¼ˆCDKï¼‰:
```typescript
const referenceBucket = new s3.Bucket(stack, 'ReferenceMaterialBucket', {
  encryption: s3.BucketEncryption.S3_MANAGED,
  blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL,
});

runtime.addToRolePolicy(new iam.PolicyStatement({
  actions: ['s3:GetObject'],
  resources: [referenceBucket.arnForObjects('*')],
}));
```

**æ³¨æ„ç‚¹**:
- Token ã‚³ã‚¹ãƒˆ: ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºæ™‚ã«è†¨ã‚‰ã¿ã‚„ã™ã„ â†’ 5000æ–‡å­—åˆ¶é™æ¨å¥¨
- æ—¥æœ¬èªPDF: `pdfplumber` ã¯ç”»åƒãƒ™ãƒ¼ã‚¹PDFã«å¼±ã„ â†’ OCRæ¨å¥¨

**å·¥æ•°**: ä¸­ã€œå¤§ï¼ˆ5-7æ—¥ï¼‰

---

### #23 ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

**ç¾çŠ¶**: ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹å…¨ä½“ã‚’èª¿æŸ»ã—ãŸçµæœã€è‚¥å¤§åŒ–ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²ãƒ»é‡è¤‡è§£æ¶ˆãƒ»ãƒ†ã‚¹ãƒˆè¿½åŠ ãŒå¿…è¦ã€‚

#### 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®åˆ†å‰²ï¼ˆå„ªå…ˆåº¦ï¼šé«˜ï¼‰

**Chat.tsxï¼ˆ460è¡Œï¼‰** â€” UIãƒ­ã‚¸ãƒƒã‚¯ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ãŒæ··åœ¨

- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²: `MessageList.tsx`, `ChatInput.tsx` ç­‰
- ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯æŠ½å‡º: `useStreamingChat.ts`, `useStatusMessages.ts` ç­‰
- `setMessages` ãŒ40å›ä»¥ä¸Šå‘¼ã°ã‚Œã¦ãŠã‚Šã€`useReducer` ã§çŠ¶æ…‹ç®¡ç†ã‚’æ•´ç†

**useAgentCore.tsï¼ˆ310è¡Œï¼‰** â€” ãƒãƒ£ãƒƒãƒˆSSEã¨PDFç”ŸæˆãŒåŒå±…

- `useChatStream.ts`, `usePdfExport.ts` ã«åˆ†é›¢
- `lib/sseClient.ts` ã«SSEå…±é€šå‡¦ç†ã‚’æŠ½å‡ºï¼ˆ`invokeAgent()` ã¨ `exportPdf()` ã§é¡ä¼¼ãƒ­ã‚¸ãƒƒã‚¯ãŒé‡è¤‡ï¼‰

#### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®åˆ†å‰²ï¼ˆå„ªå…ˆåº¦ï¼šä¸­ï¼‰

**agent.pyï¼ˆ328è¡Œï¼‰** â€” ãƒ„ãƒ¼ãƒ«å®šç¾©ãƒ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç®¡ç†ãƒ»PDFç”ŸæˆãŒ1ãƒ•ã‚¡ã‚¤ãƒ«

- `tools/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ„ãƒ¼ãƒ«å®šç¾©ã‚’åˆ†é›¢ï¼ˆ`web_search`, `output_slide`, `generate_tweet_url` ç­‰ï¼‰
- `utils/pdf.py` ã«PDFç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢
- æœªä½¿ç”¨ã® `extract_markdown()` é–¢æ•°ã‚’å‰Šé™¤

#### 3. ãã®ä»–ã®æ”¹å–„

| é …ç›® | è©³ç´° |
|------|------|
| border.css ã®é‡è¤‡è§£æ¶ˆ | `src/themes/` ã¨ `amplify/agent/runtime/` ã«åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã€‚ãƒ“ãƒ«ãƒ‰æ™‚ã‚³ãƒ”ãƒ¼ç­‰ã§ä¸€å…ƒç®¡ç†åŒ– |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯å¯¾ç­– | `_agent_sessions` ã«TTLä»˜ãã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆ`cachetools` ç­‰ï¼‰å°å…¥ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆè¿½åŠ  | Vitestè¨­å®šæ¸ˆã¿ã ãŒãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¼ãƒ­ã€‚åˆ†å‰²å¾Œã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆè¿½åŠ  |

---

### #16 ã‚¹ãƒ©ã‚¤ãƒ‰ç·¨é›†ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰

**ç¾çŠ¶**:
- `App.tsx` ã§ `markdown` stateã‚’ç®¡ç†ã€`SlidePreview.tsx` ã«æ¸¡ã—ã¦ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
- ã‚¿ãƒ–ã¯ `chat` / `preview` ã®2ã¤ï¼ˆ`hidden` ã‚¯ãƒ©ã‚¹ã§çŠ¶æ…‹ä¿æŒï¼‰
- ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³æ›´æ–°ã¯ Chat â†’ AgentCore API â†’ `onMarkdown` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯çµŒç”±ã®ã¿

**æ¨å¥¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª: @uiw/react-codemirror** â­

ã‚¨ãƒ‡ã‚£ã‚¿ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ¯”è¼ƒçµæœï¼š

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ã‚µã‚¤ã‚º | YAML frontmatter | ãƒ¢ãƒã‚¤ãƒ« | æ¨å¥¨åº¦ |
|-----------|--------|-----------------|---------|-------|
| **@uiw/react-codemirror** | ~300KB | âœ… `yamlFrontmatter()` | âœ… å„ªç§€ | â­æ¨å¥¨ |
| @uiw/react-md-editor | 4.6KB | âŒ è¦ã‚«ã‚¹ã‚¿ãƒ  | âœ… | è»½é‡ç”¨é€” |
| @monaco-editor/react | 5-10MB | âŒ è¦ã‚«ã‚¹ã‚¿ãƒ  | âŒ éå¯¾å¿œ | éæ¨å¥¨ |
| react-simplemde-editor | æ•°MB | âŒ | ä¸æ˜ | âŒ ãƒ¡ãƒ³ãƒ†åœæ­¢ |

**é¸å®šç†ç”±**:
- Marp YAML frontmatterï¼ˆ`---` ã§å›²ã¾ã‚ŒãŸéƒ¨åˆ†ï¼‰ã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆå¯¾å¿œ
- ãƒ¢ãƒã‚¤ãƒ«ã‚µãƒãƒ¼ãƒˆãŒå„ªç§€
- TypeScriptãƒã‚¤ãƒ†ã‚£ãƒ–å¯¾å¿œ
- ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
```bash
npm install @uiw/react-codemirror @codemirror/lang-markdown @codemirror/lang-yaml
```

**å®Ÿè£…ä¾‹**ï¼ˆSlidePreview.tsx ã«è¿½åŠ ï¼‰:

```typescript
import CodeMirror from '@uiw/react-codemirror';
import { markdown } from '@codemirror/lang-markdown';
import { yamlFrontmatter } from '@codemirror/lang-yaml';

// ã‚µãƒ–ã‚¿ãƒ– state
const [subTab, setSubTab] = useState<'preview' | 'editor'>('preview');

// ã‚¨ãƒ‡ã‚£ã‚¿ã‚¿ãƒ–
{subTab === 'editor' && (
  <CodeMirror
    value={markdown}
    height="100%"
    extensions={[
      markdown(),
      yamlFrontmatter()  // YAML frontmatterã‚µãƒãƒ¼ãƒˆ
    ]}
    onChange={(value) => onMarkdownChange(value)}
    className="border rounded"
  />
)}
```

**ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ**:
```typescript
import { vscodeDark } from '@uiw/codemirror-theme-vscode';

<CodeMirror
  theme={isDarkMode ? vscodeDark : 'light'}
  // ...
/>
```

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|---------|
| `src/components/SlidePreview.tsx` | ã‚µãƒ–ã‚¿ãƒ–UI + CodeMirrorã‚¨ãƒ‡ã‚£ã‚¿è¿½åŠ  |
| `src/App.tsx` | `onMarkdownChange` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯è¿½åŠ  |
| `package.json` | `@uiw/react-codemirror` ç­‰è¿½åŠ  |

**å·¥æ•°**: å¤§ï¼ˆ3-5æ—¥ï¼‰

---

### #9 ã‚¹ãƒ©ã‚¤ãƒ‰å…±æœ‰æ©Ÿèƒ½

**ç¾çŠ¶**:
- ã‚¹ãƒ©ã‚¤ãƒ‰ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã® React stateï¼ˆãƒ¡ãƒ¢ãƒªï¼‰ã®ã¿ã€‚æ°¸ç¶šåŒ–ãªã—
- React Routeræœªä½¿ç”¨ï¼ˆã‚¿ãƒ–UIã®ã¿ï¼‰
- Cognito Identity Pool ã§æœªèªè¨¼ã‚¢ã‚¯ã‚»ã‚¹å¯¾å¿œå¯èƒ½

**å®Ÿè£…æ–¹æ³•**:

1. **ã‚¤ãƒ³ãƒ•ãƒ©è¿½åŠ **ï¼ˆCDKï¼‰
   - DynamoDB: ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆuserId, slideId, shareId, title, s3Key, isPublic, createdAtï¼‰
   - S3: ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³æœ¬ä½“ã‚’ä¿å­˜
   - Lambdaï¼ˆã¾ãŸã¯ AgentCore ã«è¿½åŠ ãƒ„ãƒ¼ãƒ«ï¼‰: ä¿å­˜ãƒ»å–å¾—API

2. **APIè¿½åŠ **
   - `POST /slides` - ã‚¹ãƒ©ã‚¤ãƒ‰ä¿å­˜ã€shareIdç™ºè¡Œ
   - `GET /slides/{shareId}` - å…±æœ‰ã‚¹ãƒ©ã‚¤ãƒ‰å–å¾—ï¼ˆèªè¨¼ä¸è¦ï¼‰

3. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**
   - `SlidePreview.tsx` ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã€Œå…±æœ‰ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã€ãƒœã‚¿ãƒ³è¿½åŠ 
   - URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆ`?id=xxxx`ï¼‰ã§å…±æœ‰ã‚¹ãƒ©ã‚¤ãƒ‰è¡¨ç¤ºãƒšãƒ¼ã‚¸ä½œæˆ
   - React Routerå°å…¥ã€ã¾ãŸã¯ `URLSearchParams` ã§å®Ÿè£…
